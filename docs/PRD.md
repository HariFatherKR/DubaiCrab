# 📋 OpenKlaw - Product Requirements Document

> **Version:** 0.1 MVP  
> **Date:** 2025-02-07  
> **Author:** HyperRabbit + Claude

---

## 🎯 Overview

| 항목 | 내용 |
|------|------|
| **제품명** | OpenKlaw (오픈클로) |
| **슬로건** | "내 노트북에서 돌아가는 AI 비서" |
| **타겟** | ChatGPT 사용 제한된 한국 사무직 |
| **핵심 가치** | 로컬 실행, 데이터 보안, 한국어 특화 |

---

## 🧩 Problem Statement

### 사용자 문제
대기업/공공기관 직장인들이 AI 도구를 업무에 활용하고 싶지만, 보안 정책으로 ChatGPT/Claude 등 클라우드 AI 사용이 금지되어 있다.

### 영향
- **사용자**: 반복 업무에 시간 낭비, 생산성 저하
- **기업**: AI 도입 지연, 경쟁력 약화
- **시장**: 로컬 AI 솔루션 수요 증가

### 증거
- 삼성, SK, LG 등 대기업 ChatGPT 사용 제한
- 공공기관 AI 사용 가이드라인 강화
- Ollama, LM Studio 등 로컬 LLM 관심 급증

---

## 👤 Target Persona

### "김과장" (Primary)

```
나이: 35세
직급: 과장/대리
회사: 대기업 또는 공공기관
장비: LG그램 16 (i5-1340P, 16GB RAM, 내장 GPU)

하루 일과:
- 09:00 이메일 확인 및 답장 (30분)
- 10:00 회의 (1시간)
- 11:00 회의록 정리 (30분)
- 14:00 보고서 작성 (2시간)
- 16:00 데이터 분석 (1시간)

고민:
"ChatGPT 쓰면 보고서 30분 만에 끝날 텐데..."
"회사 보안팀이 막아놔서 개인 폰으로 몰래 써야 해"
"내 노트북에서 돌아가는 AI 있으면 좋겠다"
```

### 시스템 요구사항 (타겟 기준)

| 항목 | 최소 | 권장 |
|------|------|------|
| CPU | Intel i5 / Ryzen 5 | Intel i7 / Ryzen 7 |
| RAM | 8GB | 16GB |
| Storage | 10GB 여유 | 20GB 여유 |
| GPU | 내장 | 내장/외장 |
| OS | Windows 10/11, macOS 12+ | 동일 |

---

## 🎯 Goals (MVP)

### Objective: 사무직이 로컬에서 AI 활용해 업무 효율 올리기

| Key Result | 타겟 | 측정 |
|------------|------|------|
| 설치 완료율 | 80%+ | 설치 시작 → 첫 대화 |
| 작업 완료율 | 70%+ | 요청 → 만족스러운 결과 |
| 응답 속도 | < 10초 | 첫 토큰까지 시간 |
| NPS | 30+ | 인앱 설문 |

---

## 🚫 Non-Goals (MVP)

| 안 함 | 이유 |
|-------|------|
| 클라우드 연동 | 로컬 전용 철학 |
| 다국어 UI | 한국어 우선 |
| 모바일 앱 | 데스크톱 집중 |
| 실시간 협업 | 개인 도구로 시작 |
| GPU 필수 기능 | 내장 GPU로 충분해야 |

---

## 📋 User Stories

### Epic 1: 설치 및 설정

```
사용자로서, 5분 안에 OpenKlaw를 설치하고 첫 대화를 시작하고 싶다.
→ 원클릭 설치, 자동 LLM 다운로드

사용자로서, 회사 노트북 사양에 맞는 모델을 자동 추천받고 싶다.
→ 시스템 스캔 → 적정 모델 제안
```

### Epic 2: 핵심 업무

```
사용자로서, HWP 보고서를 첨부하면 핵심 내용을 요약받고 싶다.
→ HWP 파싱 + 요약 프롬프트

사용자로서, 상황 설명하면 비즈니스 이메일 초안을 받고 싶다.
→ 템플릿 + 맞춤 생성

사용자로서, 회의 녹음 파일을 주면 회의록을 정리받고 싶다.
→ Whisper 로컬 + 요약

사용자로서, 엑셀 파일을 주면 데이터 인사이트를 받고 싶다.
→ CSV 파싱 + 분석
```

### Epic 3: 사용성

```
사용자로서, 시스템 트레이에서 바로 OpenKlaw를 열고 싶다.
→ 트레이 아이콘, 단축키

사용자로서, 자주 쓰는 작업을 원클릭으로 실행하고 싶다.
→ 빠른 작업 버튼

사용자로서, 대화 기록을 나중에 다시 보고 싶다.
→ 로컬 히스토리 저장
```

---

## 🏗️ System Architecture

```
┌─────────────────────────────────────────────────────────┐
│                    OpenKlaw Desktop                      │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐     │
│  │  Tray App   │  │   Web UI    │  │    CLI      │     │
│  │  (Electron) │  │(localhost)  │  │             │     │
│  └─────────────┘  └─────────────┘  └─────────────┘     │
│         │               │               │               │
│         └───────────────┴───────────────┘               │
│                         │                               │
│  ┌──────────────────────▼──────────────────────┐       │
│  │              OpenKlaw Core                   │       │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐       │       │
│  │  │ Skills  │ │  Tools  │ │ Memory  │       │       │
│  │  └─────────┘ └─────────┘ └─────────┘       │       │
│  └──────────────────────┬──────────────────────┘       │
│                         │                               │
│  ┌──────────────────────▼──────────────────────┐       │
│  │           Local LLM Backend                  │       │
│  │  ┌─────────────────────────────────────┐    │       │
│  │  │           Ollama API                 │    │       │
│  │  │  ┌───────────┐  ┌───────────┐       │    │       │
│  │  │  │Qwen2.5-3B │  │EXAONE-3.5 │       │    │       │
│  │  │  └───────────┘  └───────────┘       │    │       │
│  │  └─────────────────────────────────────┘    │       │
│  └─────────────────────────────────────────────┘       │
└─────────────────────────────────────────────────────────┘
           │                    │
           ▼                    ▼
    ┌─────────────┐      ┌─────────────┐
    │ Local Files │      │Local Whisper│
    │ (HWP, XLSX) │      │  (Optional) │
    └─────────────┘      └─────────────┘
```

---

## 🔧 Tech Stack

### Core

| 구성요소 | 기술 | 이유 |
|----------|------|------|
| **Desktop App** | Tauri (Rust + Web) | Electron보다 10x 가벼움 |
| **Backend** | Rust 또는 Node.js | Tauri 연동 |
| **LLM Runtime** | Ollama | 쉬운 설치, API 표준 |
| **Default Model** | Qwen2.5-3B-Instruct | 한국어 성능, 가벼움 |

### Skills/Tools

| 기능 | 기술 |
|------|------|
| HWP 파싱 | pyhwp (Python subprocess) |
| Excel 분석 | SheetJS / xlsx |
| 음성 인식 | Whisper.cpp (선택) |
| 문서 검색 | SQLite FTS5 |

### UI

| 구성요소 | 기술 |
|----------|------|
| Web UI | SvelteKit (가벼움) |
| Tray App | Tauri system tray |
| Styling | TailwindCSS |

---

## 📊 Feature Requirements

### P0 (Must Have) - MVP

| ID | 기능 | 수락 기준 |
|----|------|----------|
| F01 | 원클릭 설치 | 설치 파일 실행 → 5분 내 첫 대화 |
| F02 | Ollama 자동 설정 | Ollama 없으면 자동 설치+모델 다운 |
| F03 | 기본 채팅 | 텍스트 입력 → 응답 (< 10초) |
| F04 | HWP 요약 | HWP 파일 드롭 → 요약 텍스트 |
| F05 | 이메일 작성 | "~이메일 써줘" → 초안 생성 |
| F06 | 대화 저장 | 세션별 자동 저장, 검색 |
| F07 | 시스템 트레이 | 트레이 아이콘, 클릭으로 열기 |

### P1 (Should Have)

| ID | 기능 |
|----|------|
| F08 | Excel/CSV 분석 |
| F09 | 회의록 정리 (텍스트 입력) |
| F10 | 빠른 작업 버튼 |
| F11 | 단축키 (전역) |
| F12 | 다크 모드 |

### P2 (Nice to Have)

| ID | 기능 |
|----|------|
| F13 | 음성 입력 (Whisper) |
| F14 | RAG (문서 검색) |
| F15 | 모델 전환 |
| F16 | 플러그인 시스템 |

---

## 📅 Development Timeline

### Phase 1: Foundation (Week 1-2)
- [ ] Tauri 프로젝트 설정
- [ ] Ollama 연동 래퍼
- [ ] 기본 채팅 UI
- [ ] 시스템 트레이

### Phase 2: Core Features (Week 3-4)
- [ ] HWP 파싱 연동
- [ ] 이메일 작성 스킬
- [ ] 대화 저장/로드
- [ ] 설치 패키지 (Windows/Mac)

### Phase 3: Polish (Week 5-6)
- [ ] 자동 설치 스크립트
- [ ] 에러 핸들링
- [ ] UI 다듬기
- [ ] 베타 테스트

---

## 📐 Design Principles

### 1. 가볍게
- 설치 파일 < 50MB (LLM 제외)
- 메모리 사용 < 500MB (LLM 제외)
- 빠른 시작 (< 3초)

### 2. 쉽게
- 설치 5분 이내
- 학습 곡선 최소화
- 기술 용어 숨기기

### 3. 안전하게
- 100% 로컬 처리
- 네트워크 요청 없음
- 데이터 암호화 저장

### 4. 한국어 우선
- UI 한국어
- 한국어 최적화 모델
- 한국 문서 양식 지원

---

## 📌 Open Questions

| # | 질문 | 담당 | 상태 |
|---|------|------|------|
| Q1 | 기본 모델 Qwen vs EXAONE? | Tech | 벤치마크 필요 |
| Q2 | Tauri vs Electron? | Tech | Tauri 검증 필요 |
| Q3 | Windows 우선? macOS 동시? | Product | 결정 필요 |
| Q4 | 오픈소스 vs 클로즈드? | Business | 결정 필요 |
